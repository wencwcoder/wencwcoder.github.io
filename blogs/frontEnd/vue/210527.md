---
title: Vueå°æŠ€å·§
date: 2021-05-27
categories:
 - å‰ç«¯
tags:
 - Vue
---

<!-- more -->



## 1. é¦–æ¬¡åŠ è½½æ›´å¿«çš„è·¯ç”±æ‡’åŠ è½½

è·¯ç”±æ‡’åŠ è½½å¯ä»¥è®©æˆ‘ä»¬çš„åŒ…ä¸éœ€è¦ä¸€æ¬¡æŠŠæ‰€æœ‰çš„é¡µé¢çš„åŠ è½½è¿›æ¥ï¼ŒåªåŠ è½½å½“å‰é¡µé¢çš„è·¯ç”±ç»„ä»¶å°±è¡Œã€‚

ä¸¾ä¸ªğŸŒ°ï¼Œå¦‚æœè¿™æ ·å†™ï¼ŒåŠ è½½çš„æ—¶å€™ä¼šå…¨éƒ¨éƒ½åŠ è½½è¿›æ¥ã€‚

```javascript
const router = new VueRouter({
  routes:[
    {
      path: '/',
      name: 'Home',
      component: Home
    },
    {
      path: '/about',
      name: 'About',
      component: About
    }
  ]
})
```

æ‡’åŠ è½½å†™æ³•,ç»“åˆ webpack çš„ importï¼š

```javascript
const router = new VueRouter({
  routes:[
    {
      path: '/',
      name: 'Home',
      component: () => import(/* webpackChunkName: "home" */ '../views/Home.vue')
    },
    {
      path: '/about',
      name: 'About',
      component: () => import(/* webpackChunkName: "about" */ '../views/About.vue')
    }
  ]
})
```



## 2. Object.freeze

vue åˆå§‹åŒ–çš„æ—¶å€™ä¼šå°† data é‡Œé¢çš„æ•°æ®éƒ½ææˆå“åº”å¼æ•°æ®å§ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬åœ¨å†™ä¸šåŠ¡é€»è¾‘çš„æ—¶å€™ä¼šæœ‰äº›æ•°æ®ä¸€åˆå§‹åŒ–å°±æ°¸è¿œä¸ä¼šæ”¹å˜ï¼Œå®ƒæ ¹æœ¬å°±ä¸éœ€è¦è¢« vue åšæˆå“åº”å¼æ•°æ®ï¼Œå› æ­¤æˆ‘ä»¬åº”è¯¥å°†è¿™äº›ä¸ç”¨æ”¹å˜çš„æ•°æ®é€šè¿‡ Object.freeze æ–¹æ³•å†»ç»“å®ƒï¼Œé¿å… vue åˆå§‹åŒ–çš„æ—¶å€™ï¼Œåšä¸€äº›æ— ç”¨çš„æ“ä½œã€‚

```javascript
export default {
  data:()=>({
    list: Object.freeze([{title:'æˆ‘æ°¸è¿œä¸éœ€è¦æ”¹å˜ï¼Œæˆ‘ä¸éœ€è¦å“åº”å¼'}]);
  })
}
```



## 3. åœ¨computedä¸­ä½¿ç”¨this

åœ¨ computed å±æ€§ä¸­é€šè¿‡ this.xxx å»æ‹¿ data é‡Œé¢çš„æ•°æ®ï¼Œå’Œ methods é‡Œé¢çš„æ–¹æ³•ï¼Œæˆ–è®¸è¿˜ä¼šé€šè¿‡ this.$store å»æ‹¿ vuex çš„ stateï¼Œå’Œ commit ç­‰ï¼Œç”šè‡³ï¼Œè¿˜ä¼šé€šè¿‡ this.$route å»è·å–è·¯ç”±é‡Œé¢çš„æ•°æ®å§ã€‚å…¶å®ï¼Œæˆ‘ä»¬å¯ä»¥é¿å…è¿™äº›ä¸‘é™‹çš„ this,å®ƒç”šè‡³ä¼šç»™æˆ‘ä»¬å¸¦æ¥çœ‹ä¸è§çš„æ€§èƒ½é—®é¢˜ã€‚å®ç°ä¸Šï¼Œæˆ‘ä»¬é€šè¿‡ this èƒ½è®¿é—®åˆ°çš„æ•°æ®ï¼Œåœ¨ computed çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸Šéƒ½èƒ½**è§£æ„**å‡ºæ¥ã€‚

```javascript
export default {
   haha({ $attrs,$route,$store,$listeners,$ref }){
     // è¿˜èƒ½è§£æ„å¾ˆå¤šå±æ€§ï¼Œå¯è‡ªè¡Œæ‰“å°
     return xxx;
   }
}
```



## 4. v-ifå’Œv-forä¸€èµ·ä½¿ç”¨

```java
<template v-if="status" >
	<h3 v-for="item in 100" :key="item">{{item}}</h3>
</template>
```



## 5.  .syncä¿®é¥°ç¬¦

å¦‚æœä½ æƒ³è¦åœ¨çˆ¶ç»„ä»¶æ§åˆ¶ä¸€ä¸ªå­ç»„ä»¶çš„æ˜¾ç¤ºéšè—ï¼Œæ˜¯ä¸æ˜¯è¿˜åœ¨ä¼ ä¸€ä¸ª **prop** å’Œä¸€ä¸ª**è‡ªå®šä¹‰æ–¹æ³•**ï¼Œè¿™æ ·ä¼šå¾ˆéº»çƒ¦ï¼Œä¸å¦¨è¯•ä¸€è¯• sync ä¿®é¥°ç¬¦ã€‚

```vue
// çˆ¶ç»„ä»¶
<template>
 <div>
  <Toggle :show.sync = 'show'></Toggle>
 </div>
</template>

//Toggle ç»„ä»¶
<template>
  <div>
    <div v-if="show">
    å±•ç¤ºå’Œéšè—ç»„ä»¶
  	</div>
  	<button @click="test">éšè—ç»„ä»¶</button>
  </div>
</template>
<script>
export default {
  props:['show'],
  methods: {
    test(){
      this.$emit('update:show', false)
    }
  }
}
</script>
```



## 6. åœ¨å­ç»„ä»¶ä¸Šå®šä¹‰çš„åŸç”Ÿäº‹ä»¶ä¸ç”Ÿæ•ˆ

æœ‰æ—¶å€™æˆ‘ä»¬æƒ³åœ¨å­ç»„ä»¶ä¸Šé¢ç›‘å¬ä¸€äº›äº‹ä»¶ï¼Œæ¯”å¦‚clickï¼Œä½†æ˜¯ä¸è®ºä½ æ€ä¹ˆç‚¹ï¼Œå®ƒéƒ½æ²¡ååº”ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ

```vue
<template>
    <div>
        <Child @click="test"></Child>
    </div>
</template>
<script>
    methods:{
        test(){}
    }
</script>
```

å› ä¸ºè¿™æ ·å†™ vue ä¼šè®¤ä¸ºï¼Œä½ è‡ªå®šä¹‰äº†ä¸€ä¸ªclickäº‹ä»¶ï¼Œè¦åœ¨å­ç»„ä»¶é€šè¿‡ $emit('click') è§¦å‘æ‰è¡Œã€‚å¦‚æœæˆ‘å°±æ˜¯è¦åœ¨çˆ¶ç»„ä»¶è§¦å‘å‘¢ï¼Ÿé‚£å°±è¦ç”¨åˆ° native ä¿®é¥°ç¬¦äº†ã€‚

```vue
<template>
    <div>
        <Child @click.native="test"></Child>
    </div>
</template>
<script>
    methods:{
        test(){}
    }
</script>
```



## 7. ç”¨keep-aliveç¼“å­˜ä¸€ä¸‹ä½ çš„é¡µé¢çŠ¶æ€

keep-alive å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨åˆ‡æ¢ç»„ä»¶çš„æ—¶å€™ï¼Œä¿ç•™ä¸Šä¸€ä¸ªç»„ä»¶ä¸è¢«é”€æ¯ï¼Œå®ƒåœ¨ç®¡ç†åå°ç³»ç»Ÿä¸­æ¯”è¾ƒå¸¸ç”¨ã€‚

```vue
<keep-alive>
    <router-view></router-view>
</keep-alive>
```



## 8. ä¿®æ”¹å½“é¡µé¢çš„æ ‡é¢˜

åˆ©ç”¨ vue-router çš„å±æ€§ä¿¡æ¯è¿›è¡Œä¿®æ”¹ï¼š

```javascript
const title = this.$route.meta.title;
if (title) {
	document.title = this.$t(title);
}
```



## 9. å¼•ç”¨å¤–éƒ¨æ–‡ä»¶

```javascript
// .vue
import demo from './demo.js';
import $ from 'jquery';
import './api.js';
import './css';
window.$ = $;

// .js
const $ = require( "jquery" );
```

